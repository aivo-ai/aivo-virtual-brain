apiVersion: v1
kind: Pod
metadata:
  name: forbidden-pod-all-violations
  namespace: default
  labels:
    app: bad-pod
    security: "violation"
spec:
  containers:
    - name: insecure-container
      image: nginx:latest
      securityContext:
        privileged: true
        runAsRoot: true
        runAsUser: 0
        readOnlyRootFilesystem: false
        allowPrivilegeEscalation: true
        capabilities:
          add:
            - SYS_ADMIN
            - NET_ADMIN
            - SYS_TIME
      resources:
        limits:
          cpu: 2000m
          memory: 4Gi
        requests:
          cpu: 1000m
          memory: 2Gi
      volumeMounts:
        - name: host-root
          mountPath: /host
          readOnly: false
  volumes:
    - name: host-root
      hostPath:
        path: /
        type: Directory
  hostNetwork: true
  hostPID: true
  hostIPC: true
  restartPolicy: Always
  serviceAccountName: default
